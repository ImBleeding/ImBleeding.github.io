(()=>{var e={468:(e,t,a)=>{e.exports=a.p+"assets/facebook.svg"},639:(e,t,a)=>{e.exports=a.p+"assets/instagram.svg"},981:(e,t,a)=>{e.exports=a.p+"assets/pinterest.svg"},371:(e,t,a)=>{e.exports=a.p+"assets/telegram.svg"},509:(e,t,a)=>{e.exports=a.p+"assets/tiktok.svg"},876:(e,t,a)=>{e.exports=a.p+"assets/twitter.svg"},867:(e,t,a)=>{e.exports=a.p+"assets/whatsapp.svg"},559:(e,t,a)=>{e.exports=a.p+"assets/youtube.svg"},857:(e,t,a)=>{e.exports=a.p+"assets/contact-me.svg"},125:(e,t,a)=>{e.exports=a.p+"assets/privacy.svg"}},t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.p="/gamebridge-web/",(()=>{"use strict";const e=React;var t=a.n(e);const n=ReactDOM;var r=a.n(n);const l=ReactRouterDOM;function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const o="/gamebridge/v1",c="gamebridge-uid",i="gamebridge-tid",m="gamebridge-user-cache",u="utm_source",d="play_video_flag",g="game-bridge-session-id",p="ads-tag-sdk";function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const E=e=>e.replace(/^\?/,"").split("&").reduce(((e,t)=>{let[a,n=""]=t.split("=");return a?f(f({},e),{},{[a]:n}):e}),{}),y=()=>{setTimeout((()=>{document.documentElement.style.setProperty("--innerHeight",`${window.innerHeight}px`)}))};let v;const w=()=>{if(v)return v;const e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),a=/(?:SymbianOS)/.test(e)||t,n=/(?:Android)/.test(e),r=/(?:Firefox)/.test(e),l=/(?:iPad|PlayBook)/.test(e)||n&&!/(?:Mobile)/.test(e)||r&&/(?:Tablet)/.test(e),s=/(?:iPhone)/.test(e)&&!l;return v={isTablet:l,isPhone:s,isAndroid:n,isPC:!(s||n||a||l)},v};let b;const S=()=>{if(b)return b;try{let e=navigator.userAgent.toLowerCase().match(/(msie|firefox|chrome|opera|version|safari).*?([\d.]+)/)[1].replace(/version/,"safari");return-1!==navigator.userAgent.toLowerCase().indexOf("edg")&&(e="edge"),b=e,b}catch(e){return b="",b}},_=()=>{let e=0;return e=window.screen&&window.screen.orientation?window.screen.orientation.angle:window.orientation,90===e||-90===e},N=()=>window.localStorage.getItem(c),k=()=>new Promise((e=>{let t=N();if(t)return e(t);const a=setInterval((()=>{t=N(),t&&(clearInterval(a),e(t))}),50)})),P=()=>window.localStorage.getItem(i),O=e=>e?window.localStorage.setItem(i,e):window.localStorage.removeItem(i),C=(e,t,a,n)=>{let r;if("number"==typeof t&&(r=t),"string"==typeof t)switch(t){case"small":r=130;break;case"large":default:r=280;break;case"oversized":r=430}a||n||(n=".jpeg"),n&&(e=e.replace(".webp",n));const{imgDomain:l}=L();return`${l}/image/${r}*${r}/${e}`},x=(e,t)=>t-5<=e&&t+5>=e,$=()=>{const e=E(window.location.search);e[u]&&window.localStorage.setItem(u,e[u])},j=()=>window.localStorage.getItem(u)||"3487216655",I=()=>{const e=w(),t=e.isPhone||e.isAndroid;return new Promise(((e,a)=>{let n=document.querySelector("#ads-tag-sdk");if(n)return e(null);const{siteId:r,zoneMap:l}=L();n=document.createElement("script"),n.src="https://sdk.enjoy4fun.com/v1/ads-tag.js",n.id=p,n.setAttribute("data-site-id",r),n.onload=function(){window.addEventListener("beforeunload",(e=>{w().isPC&&(document.querySelector("[data-jump-page]").style.display="block",window.usePageshowEvent||(window.usePageshowEvent=!0,window.addEventListener("pageshow",(function(e){e.persisted&&(document.querySelector("[data-jump-page]").style.display="none")}))))})),window.adsTag.renderInterstitial(t?l.interstitial_mobile:l.interstitial_pc),l.anchor_mobile_bottom&&window.adsTag.renderAnchor(l.anchor_mobile_bottom),e(null)},n.onerror=()=>{a()},window.document.querySelector("head").appendChild(n)}))},T=e=>JSON.parse(window.localStorage.getItem(m)||"{}")[e]||{},A=(e,t)=>{const a=JSON.parse(window.localStorage.getItem(m)||"{}");a[e]=t,window.localStorage.setItem(m,JSON.stringify(a))};function L(){return window.APP_PROPS.seoEnvMap}const M=e=>{try{const t=document.cookie.split("; "),a={};return t.forEach((e=>{const t=e.split("=");a[t[0]]=t[1]})),a[e]||""}catch(e){return console.error("cookie error",e),""}};function z(e){if(!e)return"";const t=(new Date).getTime()-1e3*e,a=Math.floor(t/36e5);return a>24?`${Math.floor(a/24)} day ago`:0===a?"in an hour":`${a} hours ago`}function R(e){return"number"!=typeof e?"":e<1e3?e:Math.floor(e/100)/10+"k"}const D=e=>`//video.enjoy4fun.com/${e}`,F=e=>{if(!e)return"";return`//video.enjoy4fun.com/${e.split(".")[0]}/game.m3u8`},V=()=>{let e=Date.now();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4fun-xxxx-xxxxxxxxxxxx".replace(/[x]/g,(function(t){const a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?a:3&a|8).toString(16)}))},H=()=>{let e=window.sessionStorage.getItem(g);return e||(e=`${(new Date).getTime()}-${V()}`,window.sessionStorage.setItem(g,e),e)},q=(e,t,a)=>{let n;n=a?document.querySelector(".search-content-main"):window;setTimeout((()=>{let r=[],l=document.querySelectorAll(e);const s=()=>{if(r.length===l.length)return void n.removeEventListener("scroll",s);let e=[],o=a?n.offsetHeight:n.innerHeight,c=a?n.scrollTop:n.scrollY;l.forEach((t=>{const a=t.getAttribute("data-size")||"small",n=t.getAttribute("data-grid-mark"),l=t.getAttribute("data-id");if(-1!==r.indexOf(l))return;const s=t.offsetTop,i=s+t.offsetHeight;s>=c&&i<=c+o&&(r.push(l),e.push({id:l,size:a,index:n}))})),e.length&&t(e)};s(),n.addEventListener("scroll",s)}))},G=(e,t,a)=>{const n="game-bridge-user-play-list",r=JSON.parse(window.sessionStorage.getItem(n)||"[]");var l,s;-1===r.indexOf(e)&&(r.push(e),a(r.length),l=`user_play_${r.length}`,s={event_category:"game",event_label:t},window.dataLayer&&window.dataLayer.push(f({event:l},s)),window.sessionStorage.setItem(n,JSON.stringify(r)))},W=e=>{function t(e){return e<10?"0"+e:e}let a;return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+" "+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+"."+((a=e.getMilliseconds())<10?"00"+a:a<100?"0"+a:a)},U=e=>{const t=document.querySelector("body");e?t.setAttribute("no-scroll",""):t.removeAttribute("no-scroll")},B=e=>e.map((e=>({id:e.game_id,icon:e.base_icon,path:e.game_path,name:e.game_name,icon_video:e.icon_video,new:e.new})));let J;const Y=axios;var K=a.n(Y);function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Z=K().create();Z.interceptors.request.use((e=>{const t=N(),a=P();return t&&(e.headers.uid=t),a&&(e.headers.tid=a),"/uid"===e.url?Promise.resolve(e):new Promise((t=>{k().then((a=>{e.headers.uid=a,t(e)}))}))})),Z.interceptors.response.use((e=>e.data),(e=>{if(K().isCancel(e))return;let t="";var a,n,r,l;e.response?t=(null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||(null===(r=e.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.msg)||"服务器响应错误":t=e.request?e.request||"请求发生错误":e.message||"本地错误";throw Error(t)}));const ee=new Proxy(Z,{get(e,t){const{apiDomain:a}=L();return Z.defaults.baseURL=`${a}${o}`,e[t]}}),te=new Proxy(Z,{get(e,t){const{apiDomain:a}=L();return Z.defaults.baseURL=`${a}/gamebridge-user/v1`,e[t]}});function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const re=e=>new Promise(((t,a)=>{ee.get(`/site/${L().siteId}/games/new`,{params:e}).then((e=>{const{data:a=[]}=e||{};e.data=B(a),t(e)})).catch((e=>{a(e)}))})),le=e=>new Promise(((t,a)=>{ee.get(`/site/${L().siteId}/games`,{params:e}).then((e=>{const{data:a=[]}=e||{};e.data=B(a),t(e)})).catch((e=>{a(e)}))})),se=(e,t,a)=>{let n;return n=window.top===window?window.location.href:document.referrer,{game_id:a,event_name:e,page_url:window.location.href,custom_data:ne({cid:(J||(J=E(window.location.search).utm_source||window.localStorage.getItem("sdk-cid")||"default"),J),sessionId:H(),version:"1.9.8",referrer:n,_fbp:M("_fbp"),_fbc:M("_fbc"),utm_source:j()},t)}},oe=(e,t,a)=>{((e,t)=>{const{apiDomain:a}=L();k().then((n=>{const r={},l=P();l&&(r.tid=l),r.uid=n,fetch(`${a}${o}${e}`,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",keepalive:!0,headers:r,referrerPolicy:"no-referrer",body:JSON.stringify(t)})}))})("/track",se(e,t,a))},ce=(e,t)=>{((e,t)=>{const a=new Date;k().then((n=>{const r={"#app_id":"856",data:[{"#type":"track","#time":W(a),"#timestamp":a.getTime(),"#account_id":"enjoy4fun","#event_name":e,"#uuid":V(),properties:X(X({},t),{},{game_id:null===(s=window.APP_PROPS.seoGame)||void 0===s?void 0:s.game_id,game_name:null===(l=window.APP_PROPS.seoGame)||void 0===l?void 0:l.game_name,uid:n,"#zone_offset":0-(new Date).getTimezoneOffset()/60})}]};var l,s;fetch("https://deapi.gmoneygame.xyz/v1/wgt/report/json",{method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(r)})}))})(e,se(e,t))},ie=e=>ee.get("/comments",{params:e});var me,ue,de,ge,pe=a(125),he=a.n(pe),fe=a(857),Ee=a.n(fe),ye=a(559),ve=a.n(ye),we=a(639),be=a.n(we),Se=a(876),_e=a.n(Se),Ne=a(509),ke=a.n(Ne),Pe=a(468),Oe=a.n(Pe);function Ce(a){const{envMap:n,language:r}=a,{languageList:l=[],imgDomain:s}=n,[o,c]=(0,e.useState)(!1),[i,m]=(0,e.useState)(null);(0,e.useEffect)((()=>(m(window.location.pathname),()=>{document.querySelector("body").removeAttribute("no-scroll")})),[]);const u=e=>{c(e),U(e)},d=e=>{const t=i.split("/");return t.some((e=>e===r))?(t[1]=e,t.join("/")):`/${e}${i}`};let g,p;return l.some((e=>{if(e.code===r)return g=e.icon,p=e.name,!0})),t().createElement("section",{className:"language-wrap"},t().createElement("div",{onClick:()=>u(!o),className:"language-icon"},t().createElement("img",{src:`${s}/image/36*36/${g}`}),t().createElement("p",null,p)),(e=>{if(!o||!i)return null;return t().createElement(t().Fragment,null,t().createElement("div",{className:"language-model"},t().createElement("div",{className:"language-title"},me||(me=t().createElement("h2",{className:"language-title"},"Select your language")),t().createElement(Qe,{type:"delete",className:"close-action",onClick:()=>(c(!1),void U(!1))})),t().createElement("div",{className:"language-list"},l.map((e=>t().createElement("a",{href:d(e.code)},t().createElement("img",{src:`${s}/image/36*36/${e.icon}`,alt:""}),t().createElement("h3",null,e.name)))))),t().createElement("div",{className:"close-mask",onClick:()=>c(!1)}))})())}function xe(a){const{language:n,envMap:r}=a,[l,s]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{window.addEventListener("scroll",(()=>{const e=document.body.offsetHeight,t=document.documentElement.scrollTop||document.body.scrollTop,a=window.innerHeight;s(a+t>e-40)}),!1)}),[]),t().createElement("section",{className:"footer","data-show":l},t().createElement("ul",{className:"footer-menu"},t().createElement("li",null,t().createElement("a",{href:`/${n}/policy.html`,className:"menu-privacy"},ue||(ue=t().createElement("img",{src:he(),loading:"lazy"})),"Privacy Policy")),t().createElement("li",null,t().createElement("a",{href:`/${n}/contact.html`,className:"menu-contact-me"},de||(de=t().createElement("img",{src:Ee(),loading:"lazy"})),"Contact Me")),t().createElement("li",null,t().createElement(Ce,{language:n,envMap:r}))),ge||(ge=t().createElement("div",{className:"footer-link"},t().createElement("div",{className:"link-bg"}),t().createElement("ul",null,t().createElement("li",null,t().createElement("a",{className:"youtube",target:"_blank",href:"https://www.youtube.com/channel/UCnKg8AQyd8WgsMevcmGvabA"},t().createElement("img",{src:ve(),loading:"lazy"}))),t().createElement("li",null,t().createElement("a",{className:"instagram",target:"_blank",href:"https://www.instagram.com/enjoy4fun_official/"},t().createElement("img",{src:be(),loading:"lazy"}))),t().createElement("li",null,t().createElement("a",{className:"twitter",target:"_blank",href:"https://twitter.com/enjoy4fun1"},t().createElement("img",{src:_e(),loading:"lazy"}))),t().createElement("li",null,t().createElement("a",{className:"tiktok",target:"_blank",href:"https://www.tiktok.com/@enjoy4fun.com"},t().createElement("img",{src:ke(),loading:"lazy"}))),t().createElement("li",null,t().createElement("a",{className:"facebook",target:"_blank",href:"https://www.facebook.com/Enjoy4fun-105558892193507"},t().createElement("img",{src:Oe(),loading:"lazy"})))))))}const $e=classNames;var je,Ie=a.n($e);function Te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ae(a){var n;const{useSPA:r,language:l,game:o,style:c,campaign:i,size:m="small",index:u,type:d="",useVideo:g,system:p,callback:h}=a;if(!o)return t().createElement($t,{useSPA:r,path:`/${l}`,className:"game-card card-wrap","data-size":m,"data-grid-mark":a.index});const{id:f,icon:E,path:y,name:v,icon_video:w}=o,[b,_]=(0,e.useState)(null),[N,k]=(0,e.useState)(null);(0,e.useEffect)((()=>{k(L().videoDomain),_("safari"!==S())}),[]);let P="";"topic"===d?P=E:null!==b&&(P=C(E,m,b));const O={};P&&(O.backgroundImage=`url(${P})`);const x=()=>(P&&({}.backgroundImage=`url(${P})`),p.isAndroid||p.isPhone?null:w&&g&&N?t().createElement("video",{className:"icon-video",loop:!0,muted:!0,preload:"metadata"},t().createElement("source",{src:`${N}/${w}`,type:"video/mp4"})):n||(n=t().createElement("h3",null,t().createElement("span",null,v))));let $=y;i&&($=`${y}?utm_campaign=${i}`);let j=m;"search"!==d&&"search-big"!==d||(j=d);const I=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},c);return!o.new&&P&&(I.backgroundImage=`url(${P})`),t().createElement($t,{useSPA:r,path:`/${l}/${y}`,style:I,className:Ie()("game-card",o.new?"":"card-wrap"),"data-size":"small"===j?void 0:j,"data-grid-mark":u,"data-id":f,onClick:e=>((e,t)=>{const a={campaign:i,isFirstScreen:t.pageY<=window.innerHeight?"true":"false"};"function"==typeof h&&h(y),oe("GameIconClick",a,o.id)})(0,e),onMouseLeave:e=>(e=>{const t=e.currentTarget.querySelector("video");t&&t.pause()})(e),onMouseEnter:e=>(e=>{const t=e.currentTarget.querySelector("video");t&&(t.currentTime=0,t.play())})(e)},o.new?t().createElement(t().Fragment,null,t().createElement("p",{className:"card-wrap",style:O},x()),je||(je=t().createElement("div",{className:"game-flag"}))):x())}const Le=t().memo(Ae,((e,t)=>Object.keys(e).every((a=>e[a]===t[a]))));var Me,ze,Re,De,Fe,Ve,He,qe,Ge;let We,Ue;function Be(a){const{useSPA:n,language:r}=a,[l,s]=(0,e.useState)(null),[o,i]=(0,e.useState)(null),[m,u]=(0,e.useState)(null),[d,g]=(0,e.useState)(!1),[p,h]=(0,e.useState)(!1),[f,E]=(0,e.useState)(!1),[y,v]=(0,e.useState)(null),[b,S]=(0,e.useState)(""),[_,k]=(0,e.useState)(null),P=(0,e.useRef)(null);if((0,e.useEffect)((()=>{var e;v(w()),N()?m||new Promise(((e,t)=>{ee.get("/recentgames").then((t=>{const{data:a=[]}=t||{};t.data=B(a),e(t)})).catch((e=>{t(e)}))})).then((e=>{u(e.data)})):ee.get("/uid").then((e=>{var t;t=e.data,window.localStorage.setItem(c,t)})),l||ee.get(`/site/${L().siteId}/categorys`).then((e=>{s(e.data)})),o||(e={page_size:12},new Promise(((t,a)=>{ee.get(`/site/${L().siteId}/weekgames`,{params:e}).then((e=>{const{data:a=[]}=e||{};e.data=B(a),t(e)})).catch((e=>{a(e)}))}))).then((e=>{i(e.data)}))}),[]),(0,e.useEffect)((()=>{d?(q(".search-content-main .popular-this-week .game-card",(e=>{oe("GameImpression",{impressionGameList:JSON.stringify(e),campaign:"popular-this-week"})}),!0),q(".search-content-main .recently-played .game-card",(e=>{oe("GameImpression",{impressionGameList:JSON.stringify(e),campaign:"recently-played"})}),!0)):(Ue="",S(""))}),[d]),!y)return null;const O=e=>{const t=!!e.trim()&&e.trim()===Ue;if(oe("TriggerSearch",{searchValue:e,repeatedText:t.toString()}),t)return;Ue=e.trim(),h(!0);(Ue?le:re)({term:Ue,page_size:24}).then((e=>{k(e.data),h(!1),document.querySelector(".search-content-main").scrollTo(0,0),q(".search-content-main .search-result .game-card",(e=>{oe("GameImpression",{impressionGameList:JSON.stringify(e),campaign:"search-result"})}),!0)}))},C=e=>{const t=e.currentTarget.value;S(t),We&&clearTimeout(We),We=setTimeout((()=>{clearTimeout(We),O(t)}),500)};if(!y)return Me||(Me=t().createElement("div",{className:"game-search"},t().createElement("h1",{title:"Enjoy4fun"},"Enjoy4fun")));const x=e=>{f||E(!0),oe(e?"OpenSearch":"CloseSearch"),g(e),e&&setTimeout((()=>{P.current&&P.current.focus()}),100),e||k(null)},$=()=>l?t().createElement("div",{className:"category"},l.map((e=>t().createElement("a",{key:e.id,href:`/${r}/games/${e.path}`,onClick:e=>(e=>{const t={campaign:"hot",isFirstScreen:e.pageY<=window.innerHeight?"true":"false"};oe("CategoryIconClick",t)})(e)},e.name)))):null,j=()=>f?t().createElement(t().Fragment,null,p?Fe||(Fe=t().createElement(lt,{className:"search-loading"})):null,t().createElement("div",{className:"search-content-main"},_?0===_.length?ze||(ze=t().createElement("div",{className:"search-result"},t().createElement("p",{className:"void-title"},"No search results yet"),t().createElement("p",{className:"void-text"},"Try searching for something else?"))):t().createElement("div",{className:"search-result"},t().createElement("p",{className:"result-title"},_.length," result:"),t().createElement("div",{className:"result-list"},_.map(((e,a)=>{const l=e.name.toLowerCase()===b.toLowerCase();return t().createElement(Le,{useSPA:n,style:(y.isPC||y.isTablet)&&l?{gridArea:"1/1/3/3"}:{},language:r,game:e,key:e.id,type:l?"search-big":"search",size:l?"large":"small",index:a,campaign:`search&value=${b}`,callback:()=>g(!1),system:y})})))):null,$(),o&&o.length?t().createElement("div",{className:"popular-this-week"},Re||(Re=t().createElement("h2",{className:"popular-this-week-title"},"Popular this week")),t().createElement("div",{className:"popular-this-week-list"},o.map(((e,a)=>t().createElement(Le,{useSPA:n,language:r,game:e,key:e.id,type:"search",index:a,campaign:"week-list",callback:()=>g(!1),system:y}))))):null,m&&m.length?t().createElement("div",{className:"recently-played"},De||(De=t().createElement("h2",{className:"recently-played-title"},"Recently played")),t().createElement("div",{className:"recently-played-list"},m.map(((e,a)=>t().createElement(Le,{useSPA:n,language:r,game:e,key:e.id,type:"search",index:a,campaign:"played-list",callback:()=>g(!1),system:y}))))):null)):null;return y.isAndroid||y.isPhone?t().createElement("div",{className:"game-search"},t().createElement("a",{className:"logo",href:`/${r}/`,onClick:()=>oe("LogoClick")},Ve||(Ve=t().createElement("h1",{title:"Enjoy4fun"},"Enjoy4fun"))),t().createElement("div",{className:"home-and-search"},t().createElement("a",{href:`/${r}/`,className:"hs-ele-home",onClick:()=>oe("HomeClick")},t().createElement(Qe,{type:"home",style:{fontSize:24}})),t().createElement("span",{className:"hs-ele-search",onMouseDown:()=>x(!0)},t().createElement(Qe,{type:"search",style:{fontSize:24}}))),d?t().createElement("div",{className:"search-content"},t().createElement("div",{className:"search-content-action"},t().createElement("div",{className:"search-go-back",onClick:()=>{x(!1)}},He||(He=t().createElement(Qe,{type:"left"}))),t().createElement("div",{className:"search-main"},t().createElement("input",{className:"search-input",placeholder:"Search",ref:P,value:b,onChange:C}),t().createElement("button",{className:"search-action",onClick:()=>O(b)},t().createElement(Qe,{type:"search",style:{fontSize:20,color:"#fff"}})))),j()):null):d?t().createElement("div",{className:"game-search pc-expand"},t().createElement("div",{className:"search-main"},t().createElement("input",{className:"search-input",placeholder:"Search",value:b,ref:P,onChange:C}),b?t().createElement(Qe,{className:"clear-search",type:"delete",onClick:()=>{S("")}}):null,t().createElement("button",{className:"search-action",onClick:()=>O(b)},t().createElement(Qe,{type:"search",style:{fontSize:32,color:"#fff"}}))),Ge||(Ge=t().createElement("div",{className:"search-bg"})),d?t().createElement("div",{className:"content-bg",onClick:()=>x(!1)}):null,t().createElement("div",{className:"search-content","data-show":d},j())):t().createElement("div",{className:"game-search pc-normal"},t().createElement("a",{className:"logo",href:`/${r}/`,onClick:()=>oe("LogoClick")},qe||(qe=t().createElement("h1",{title:"Enjoy4fun"},"Enjoy4fun"))),t().createElement("div",{className:"home-and-search"},t().createElement("a",{href:`/${r}/`,className:"hs-ele-home",onClick:()=>oe("HomeClick")},t().createElement(Qe,{type:"home",style:{fontSize:24}})),t().createElement("span",{className:"hs-ele-search",onMouseDown:()=>x(!0)},t().createElement(Qe,{type:"search",style:{fontSize:24}}))))}function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Je.apply(this,arguments)}function Ye(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const Ke=["type","style","className","onClick","id"];function Qe(e){const{type:a,style:n,className:r="",onClick:l=(()=>{}),id:s}=e,o=Ye(e,Ke);return t().createElement("i",Je({id:s,className:Ie()("iconfont",`icon-${a}`,r),style:n},o,{onClick:l}))}function Xe(e){const{language:a,children:n,module:r,showMore:l,eventName:s,campaign:o}=e;let c=e.url;return o&&(c=`${c}?utm_campaign=${o}`),t().createElement("div",{className:"module-wrap"},t().createElement("h2",{className:"module-header","data-module":r},t().createElement("span",null,n)),l&&t().createElement("a",{className:"more",href:`/${a}/${c}`,onClick:()=>oe(s)},"More"))}var Ze;function et(e){var a,n,r,l,s;const{language:o,game_name:c="",description:i="",game_play:m="",categorys:u=[],seoAbout:d}=e;return t().createElement("section",{className:"about-area"},Ze||(Ze=t().createElement(Xe,{module:"blue"},"About Enjoy4fun")),t().createElement("div",{className:"about-content"},c?t().createElement(t().Fragment,null,a||(a=t().createElement("h2",null,c)),n||(n=t().createElement("h3",null,"About ",c)),r||(r=t().createElement("p",null,i)),l||(l=t().createElement("h3",null,"How to play ",c," online?")),s||(s=t().createElement("p",null,m)),t().createElement("div",{className:"category-list"},u.map(((e,a)=>t().createElement("a",{key:a,href:`/${o}/games/${e.path}`,onClick:e=>{(e=>{const t={campaign:"game",isFirstScreen:e.pageY<=window.innerHeight?"true":"false"};oe("CategoryIconClick",t)})(e)}},e.name))))):t().createElement(t().Fragment,null,t().createElement("div",{dangerouslySetInnerHTML:{__html:d.body}}))))}const tt=t().memo(et,((e,t)=>Object.keys(e).every((a=>e[a]===t[a]))));var at,nt,rt;function lt(e){const{style:a,className:n,jumpPage:r,disabledBG:l}=e;return t().createElement("section",{style:a,className:Ie()("loading",n),"data-jump-page":r?"true":void 0},at||(at=t().createElement("div",{className:"loading-inner"})),l?null:nt||(nt=t().createElement("div",{className:"loading-bg"})))}function st(){return t().createElement(lt,{jumpPage:!0,style:{display:"none"}})}function ot(e){const{loading:a,className:n,style:r}=e;return a?t().createElement("section",{className:Ie()("loading-waterfalls-flow-wrap",n),style:r},rt||(rt=t().createElement("div",{className:"loading"},t().createElement("div",null),t().createElement("div",null),t().createElement("div",null),t().createElement("div",null),t().createElement("div",null)))):null}function ct(a){const{className:n,url:r,system:l,muted:s}=a,[o,c]=(0,e.useState)(!1);if((0,e.useEffect)((()=>(function(){const e="react-player-id",t="hls-id";return new Promise(((a,n)=>{let r=document.querySelector("#react-player-id"),l=document.querySelector("#hls-id");if(r&&l){const e=setInterval((()=>{window.ReactPlayer&&(clearInterval(e),a(null))}),100);return}let s=!1,o=!1;const c=window.document.querySelector("body");r=document.createElement("script"),r.src="https://sdk.enjoy4fun.com/cdn/react-player/2.10.1/ReactPlayer.js",r.id=e,r.onload=function(){s=!0,s&&o&&a(null)},r.onerror=()=>{n()},c.appendChild(r),l=document.createElement("script"),l.src="https://sdk.enjoy4fun.com/cdn/hls/1.1.4/hls.min.js",l.id=t,l.onload=function(){o=!0,s&&o&&a(null)},l.onerror=()=>{n()},c.appendChild(l)}))}().then((()=>{c(!0)})),()=>{window.ReactPlayer&&window.ReactPlayer.removeCustomPlayers()})),[]),!o)return null;const i=window.ReactPlayer;return t().createElement(i,{url:r,playing:!0,width:"100%",muted:s,controls:!s,className:n,config:{file:{forceHLS:!l.isPhone}}})}function it(a){const{loading_video:n,base_icon:r,loading:l,progressValue:s,loading_video_thumbnail:o}=a,[c,i]=(0,e.useState)(!0),[m,u]=(0,e.useState)(!1);let d="",g=!1;if((0,e.useEffect)((()=>{const e=w();g=e.isPhone||e.isAndroid,g&&i(!0)}),[]),!l)return null;const p=()=>{u(!0)};return t().createElement("section",{className:"loading-walk-through-area"},t().createElement("div",{className:Ie()("main-wrap",c?"change-direction":"")},t().createElement("div",{className:"video-wrap"},(d=C(o||r,244,!1,".png"),n?t().createElement("div",{className:"video"},m?null:t().createElement("img",{src:d,alt:""}),t().createElement("video",{autoPlay:!0,loop:!0,onCanPlay:p,src:D(n),muted:!0,"webkit-playsinline":"true",playsInline:!0})):t().createElement("img",{src:d}))),c?t().createElement(ft,{text:"Loading...",progressValue:s}):null))}const mt=t().memo(it,((e,t)=>Object.keys(e).every((a=>e[a]===t[a]))));function ut(e){const{loading:a,base_icon:n,setWalkThroughVideoOpenStatus:r,players:l,loading_video:s,progressValue:o,game_id:c,walkThroughButtonStatus:i,loading_video_thumbnail:m}=e;return t().createElement(mt,{loading:a,progressValue:o,game_id:c,setWalkThroughVideoOpenStatus:r,loading_video_thumbnail:m,base_icon:n,players:l,loading_video:s,walkThroughButtonStatus:i})}const dt=t().memo(ut,((e,t)=>Object.keys(e).every((a=>e[a]===t[a]))));let gt,pt;function ht(a){const{text:n,progressValue:r}=a,l=(0,e.useRef)(null),s=(0,e.useRef)(null),o=(0,e.useRef)(null),c=(0,e.useRef)(null),i=(0,e.useRef)(null),[m,u]=(0,e.useState)(0);let d="";return(0,e.useEffect)((()=>{d=s.current.clientWidth}),[]),(0,e.useEffect)((()=>(pt=pt>r?pt:r,clearInterval(gt),gt=setInterval((()=>{if(o.current.clientWidth+30+i.current.clientWidth>d&&(i.current.style.display="none"),pt>=100)return clearInterval(gt),void(i.current.style.display="none");pt++,u(pt),l.current.style.width=`${pt}%`,o.current.style.width=`${pt}%`,c.current.style.width=`${pt}%`,i.current.style.left=`${pt}%`}),50),()=>{pt=0,l.current.style.width=`${pt}%`,o.current.style.width=`${pt}%`,c.current.style.width=`${pt}%`,i.current.style.left=`${pt}%`,clearInterval(gt)})),[r]),t().createElement("div",{className:"progress-wrap"},t().createElement("div",{className:"progress-inner",ref:s},t().createElement("div",{ref:o,className:"progress-bg"}),t().createElement("div",{ref:l,className:"progress-nums"}),t().createElement("div",{ref:c,className:"progress-filter"}),t().createElement("span",{ref:i,className:"progress-number"},m,"%")),t().createElement("p",{className:"progress-loading"},n))}const ft=t().memo(ht,((e,t)=>Object.keys(e).every((a=>e[a]===t[a]))));var Et,yt,vt,wt,bt=a(981),St=a.n(bt),_t=a(371),Nt=a.n(_t),kt=a(867),Pt=a.n(kt);function Ot(e){const{game_name:a,game_id:n,onShareStatus:r}=e,l=e=>{let t=`https://www.enjoy4fun.com${window.location.pathname}`,l=encodeURIComponent(a);if("twitter"===e&&(t=encodeURIComponent(`${t}?utm_source=twitter&utm_medium=share`),window.open(`https://twitter.com/intent/tweet?text=${l}&url=${t}`)),"facebook"===e&&(t=encodeURIComponent(`${t}?utm_source=facebook&utm_medium=share`),window.open(`https://www.facebook.com/sharer/sharer.php?u=${t}`)),"pinterest"===e){t=encodeURIComponent(`${t}?utm_source=pinterest&utm_medium=share`);const e=encodeURIComponent(`https://img.enjoy4fun.com/image/200*200/${n}.png`);window.open(`https://www.pinterest.com/pin-builder/?description=${l}&media=${e}&method=button&url=${t}`)}"whatsapp"===e&&(l=encodeURIComponent(`#${a}: ${t}?utm_source=whatsapp&utm_medium=share`),window.open(`https://api.whatsapp.com/send?text=${l}`)),"telegram"===e&&(l=encodeURIComponent(`#${a}`),t=encodeURIComponent(`${t}?utm_source=telegram&utm_medium=share`),window.open(`https://t.me/share/url?text=${l}&url=${t}`)),oe("share",{site:e}),r(!1)};return t().createElement("section",{className:"share-wrap"},t().createElement("div",{className:"share-bg",onClick:()=>r(!1)}),t().createElement("div",{className:"share-main"},Et||(Et=t().createElement("h2",{className:"share-title"},"Share Game")),t().createElement(Qe,{type:"close",className:"share-close",onClick:()=>r(!1)}),yt||(yt=t().createElement("p",{className:"share-info"},"Share this game with your friends.")),t().createElement("ul",{className:"share-list"},t().createElement("li",{onClick:()=>l("facebook")},vt||(vt=t().createElement("img",{src:Oe()}))),t().createElement("li",{onClick:()=>l("twitter")},wt||(wt=t().createElement("img",{src:_e()}))),t().createElement("li",{onClick:()=>l("pinterest")},t().createElement("img",{src:St(),style:{width:26}})),t().createElement("li",{onClick:()=>l("telegram")},t().createElement("img",{src:Nt(),style:{width:26}})),t().createElement("li",{onClick:()=>l("whatsapp")},t().createElement("img",{src:Pt(),style:{width:26}})))))}const Ct=t().memo(Ot,((e,t)=>Object.keys(e).every((a=>e[a]===t[a])))),xt=["useSPA","path","children"];function $t(e){const{useSPA:a,path:n,children:r}=e,l=Ye(e,xt);return t().createElement("a",Je({href:n},l),r)}const jt={},It={useAdsRefreshState:!0,gameId:void 0},Tt=[];let At;function Lt(a){const{system:n,width:r,fullState:l,adsTagLoadedFn:s,gameId:o,envMap:c}=a,{zoneMap:i}=c;if(It.useAdsRefreshState=!l,It.gameId=o,!r)return t().createElement(t().Fragment,null);const m=n.isPhone||n.isAndroid,u=(e,a,n,r)=>{const l=`ads-dom-${e}`;return jt[l]||(jt[l]={width:a,height:n,zoneId:i[e],videoFirst:r}),t().createElement("div",{"data-ads-id":l})};(0,e.useEffect)((()=>{At||(At=!0,I().then((()=>{const{adsTag:e}=window;s(),window.adsTag.init({refreshBefore:()=>It.useAdsRefreshState,refreshAfter:e=>{ce("adImpressions",e)}}),Object.keys(jt).forEach(((t,a)=>{const{width:n,height:r,zoneId:l,videoFirst:s}=jt[t],o=document.querySelector(`[data-ads-id="${t}"]`);e.renderAds(o,n,r,l,s)}))})))}),[]);return t().createElement(t().Fragment,null,(()=>{if(m)return null;return t().createElement(t().Fragment,null,(()=>{if(x(r,1788))return t().createElement("div",{className:"ads-area","data-ads-flag":"core-left-160-600"},u("pc_left_160_600",160,600))})(),x(r,1188)||x(r,1288)||x(r,1388)?t().createElement("div",{className:"ads-area","data-ads-flag":"core-right-300-250"},u("pc_right_300_250",300,250)):x(r,1588)||x(r,1788)?t().createElement(t().Fragment,null,t().createElement("div",{className:"ads-area","data-ads-flag":"core-right-300-600"},u("pc_right_300_600",300,600)),t().createElement("div",{className:"ads-area","data-ads-flag":"core-right-300-250"},u("pc_right_300_250_2",300,250))):null,x(r,688)?t().createElement("div",{className:"ads-area","data-ads-flag":"core-bottom-300-250"},u("pad_bottom_300_250",300,250)):x(r,788)?t().createElement("div",{className:"ads-area","data-ads-flag":"core-bottom-336-280"},u("pad_bottom_336_280",336,280)):t().createElement(t().Fragment,null,t().createElement("div",{className:"ads-area","data-ads-flag":"core-bottom-728-90"},u("pc_bottom_728_90",728,90)),t().createElement("div",{className:"ads-area","data-ads-flag":"core-bottom-120-90"},u("pc_bottom_160_90",160,90,!0))))})(),(()=>{if(!m)return null;return t().createElement(t().Fragment,null,t().createElement("div",{className:"ads-area","data-ads-flag":"core-bottom-300-250-top"},u("mobile_300_250_top",300,250)),t().createElement("div",{className:"ads-area","data-ads-flag":"core-bottom-300-250-mid"},u("mobile_300_250_mid",300,250)),(Tt.push("ads: renderMobile_300_600_bottom"),t().createElement("div",{className:"ads-area","data-ads-flag":"core-bottom-300-600-bottom"},u("mobile_300_600_bottom",300,600))))})())}const Mt=t().memo(Lt,((e,t)=>Object.keys(e).every((a=>e[a]===t[a]))));var zt,Rt;let Dt;function Ft(a){const{game_id:n,onUpdateCommentNum:r,onClose:l}=a,[s,o]=(0,e.useState)(!1),[c,i]=(0,e.useState)(!0),[m,u]=(0,e.useState)(null),[d,g]=(0,e.useState)(null),[p,h]=(0,e.useState)(!1),[f,E]=(0,e.useState)(!0),[v,w]=(0,e.useState)(!1),[b,S]=(0,e.useState)(null),[_,N]=(0,e.useState)([]),[k,C]=(0,e.useState)(0),[x,$]=(0,e.useState)(!1),[j,I]=(0,e.useState)(!1),T=(0,e.useRef)(),A=(0,e.useRef)();(0,e.useEffect)((()=>{A.current=L})),(0,e.useEffect)((()=>{V(),y(),L("after");const e=setInterval((()=>{A.current("before")}),15e3);return()=>{window.clearInterval(e)}}),[]);const L=e=>{w(!0);const t={game_id:n,page_size:20};var a;("before"===e&&(t.first_id=Dt),"after"===e)&&(t.last_id=null===(a=_[_.length-1])||void 0===a?void 0:a.comment_id);ie(t).then((t=>{const{data:a,total:n}=t;if(w(!1),0===a.length)return;let l;if(a.forEach((e=>{e.child||(e.child=[])})),"before"===e){const e=_.filter((e=>e.comment_id<=Dt));l=[...a.concat(e)]}"after"===e&&(l=[..._.concat(a)]),Dt=a[0].comment_id,N(l),C(n),r(n),$(n-l.length>0)}))},M=e=>{let{avatar:a,comment_id:r,text:l,user_name:s,created_timestamp:o,child_count:c,child:i}=e;return t().createElement("li",{key:e.comment_id},t().createElement("div",{className:"comment-left"},t().createElement("img",{src:a})),t().createElement("div",{className:"comment-right"},t().createElement("h4",{className:"user-name"},"@",s),t().createElement("p",{className:"comment-text"},l),t().createElement("div",{className:"comment-info"},t().createElement("span",{className:"comment-time"},z(o)),t().createElement(Qe,{type:"comments",className:Ie()("reply-action",d&&d.comment_id===r?"replying":""),onClick:()=>(e=>{const t=T.current;d&&d.comment_id===e.comment_id||(t.value=""),g(e),setTimeout((()=>{t.click(),t.focus()}))})(e)})),c>0?t().createElement("ul",{className:"reply-list"},i.map((e=>t().createElement("li",{key:e.comment_id},t().createElement("div",{className:"reply-left"},t().createElement("img",{src:e.avatar})),t().createElement("div",{className:"reply-right"},t().createElement("h4",{className:"user-name"},"@",e.user_name),t().createElement("p",{className:"comment-text"},e.text),t().createElement("p",{className:"comment-time"},z(e.created_timestamp))))))):null,c>i.length?t().createElement("div",{className:"reply-view-more"},t().createElement("span",{onClick:()=>((e,t,a)=>{let r;_.map((t=>{var a;t.comment_id===e&&(r=null===(a=t.child[t.child.length-1])||void 0===a?void 0:a.comment_id)})),r&&(t=void 0),ie({parent_id:e,game_id:n,page_size:a,page_index:t,last_id:r}).then((t=>{const{data:a}=t;_.map((t=>{t.comment_id===e&&(t.child=t.child.concat(a))})),N([..._])}))})(r,i.length/2+1,2)},"more ",c-i.length," replies")):null))},D=e=>{o(e)},F=()=>{const e=T.current,t=e.value;H()?((e,t,a)=>te.post(`/comment?game_id=${t}${a?"&parent_id="+a:""}`,{text:e}))(t,n,null==d?void 0:d.comment_id).then((t=>{const a=t.data;a&&a.comment_id?(a.parent_id?_.forEach((e=>{e.comment_id===a.parent_id&&(e.child.unshift(a),e.child_count=e.child_count+1)})):(a.child||(a.child=[]),C(k+1),r(k+1),_.unshift(a)),N(_),e.value="",g(null),o(!1),u({type:"success",text:"Comment posted successfully"})):u({type:"error",text:"Failed to comment"})})).catch((()=>{u({type:"error",text:"Failed to comment"})})):u({type:"error",text:"Please sign in"})},V=e=>{P()&&("function"==typeof e&&e(),te.get("/user").then((e=>{const t=e.data;t.user_id&&S(t)})).catch((()=>{O()})))},H=()=>!!b||(p||(h(!0),E(!0)),!1);return t().createElement("section",{className:"comments-area"},m&&m.type&&m.text?(setTimeout((()=>{u(null)}),3e3),t().createElement("section",{className:"message","data-message-type":m.type},t().createElement(Qe,{type:"success"===m.type?"check":"delete",className:"message-icon"}),t().createElement("p",{className:"message-text"},m.text))):null,t().createElement("div",{className:"comment-bg",onClick:()=>l()}),t().createElement("div",{className:"comment-main"},t().createElement("header",null,t().createElement("h3",null,"Comments",t().createElement("small",null,R(k))),t().createElement(Qe,{type:"delete",className:"close-action",onClick:()=>l()})),t().createElement("div",{className:"post-area"},j?t().createElement(t().Fragment,null,t().createElement("div",{className:"user-info"},t().createElement("p",{className:"user-name"},"@",b.user_name),t().createElement("p",{className:"user-logout",onClick:()=>(S(null),O(),void I(!1))},zt||(zt=t().createElement(Qe,{type:"logout",className:"logout-icon"})),"Logout")),t().createElement("div",{className:"user-info-bg",onClick:()=>I(!1)})):null,t().createElement("div",{className:"post-icon"},b&&b.avatar?t().createElement("img",{src:b.avatar,className:"people-avatar",onClick:()=>I(!j)}):t().createElement(Qe,{type:"people",className:"people-action",onClick:()=>H()})),t().createElement("div",{className:Ie()("post-content",s?"commenting":"")},t().createElement("textarea",{ref:T,onKeyDown:e=>(e=>{"Backspace"!==e.key||e.currentTarget.value||g(null)})(e),placeholder:d?`reply: @${d.user_name}`:"Share your thoughts",onClick:()=>D(!0),maxLength:280,onChange:e=>(e=>{i(!e.currentTarget.value.trim())})(e)}),t().createElement("span",{onClick:()=>F(),className:Ie()("post-action",c?"disable":"")},"Post"))),t().createElement("div",{className:"commenting-bg",onClick:()=>D(!1),"data-show":s}),p?t().createElement("div",{className:"login-iframe"},t().createElement(Qe,{type:"close",className:"login-close",onClick:()=>{h(!1)}}),f?Rt||(Rt=t().createElement(lt,null)):null,t().createElement("iframe",{src:`${window.location.origin}/login.html`,scrolling:"no",frameBorder:"0",onLoad:()=>(()=>{E(!1);const e=setInterval((()=>{p?V((()=>{clearInterval(e)})):clearInterval(e)}),5e3)})()})):null,t().createElement("ul",{className:"comment-list"},_.map((e=>M(e)))),t().createElement(ot,{loading:v,style:{marginTop:12,height:40}}),x&&!v?t().createElement("div",{className:"view-more",onClick:()=>L("after")},"View More"):null))}var Vt,Ht;let qt;const Gt=function(a){const{game_id:n,game_name:r,game_type:l,fullState:s,mobileHorizontal:o,developer:c,base_icon:i,onFullGame:m,walkThroughVideoOpenStatus:u,onWalkThroughVideoStatus:d,setWalkThroughButtonStatus:g,onShareStatus:p}=a,[h,f]=(0,e.useState)(!1),[E,y]=(0,e.useState)(!1),[v,b]=(0,e.useState)(null),[_,N]=(0,e.useState)(null),[k,P]=(0,e.useState)(null),[O,x]=(0,e.useState)(null),[$,j]=(0,e.useState)(null),[I,L]=(0,e.useState)(!1),[M,z]=(0,e.useState)(!1),[D,F]=(0,e.useState)(!1);if((0,e.useEffect)((()=>{x(S()),j(w()),setTimeout((()=>{(function(e){let t;return new Promise(((a,n)=>{if(!("serviceWorker"in navigator))return n();if(!e)return n();navigator.serviceWorker.register("/sw.js").then((e=>{}));let r=!1;window.addEventListener("beforeinstallprompt",(n=>{n.preventDefault(),t=n,e.style.display="block",r||(r=!0,a(((e,a)=>{t.prompt(),t.userChoice.then((n=>{"accepted"===n.outcome?e():a(),t=null}))})))}))}))})(document.querySelector("#install-dom")).then((e=>{qt=e}))}))}),[]),(0,e.useEffect)((()=>{if(!n)return;const e=T(n);var t;f(e.like||!1),y(e.hated||!1),b(null),N(null),P(null),z(!1),(t=n,ee.get(`/gameinsights?game_id=${t}`)).then((e=>{const t=e.data;b(t.Like||0),N(t.Hated||0),P(t.Comments||0),z(!!t.WalkthroughVideoCount),g(!!t.WalkthroughVideoCount)}))}),[n]),!O||!$)return null;if(s&&($.isAndroid||$.isPhone))return null;if(o&&($.isAndroid||$.isPhone))return null;const V=e=>{oe(e?"OpenComments":"CloseComments"),L(e)};let H=C(i,192,!1,".png");return t().createElement(t().Fragment,null,I?t().createElement(Ft,{game_id:n,onUpdateCommentNum:e=>(e=>{P(e)})(e),onClose:()=>V(!1)}):null,t().createElement("div",{className:"game-attr"},t().createElement("div",{className:"game-info"},H?t().createElement("img",{src:H}):null,t().createElement("h1",null,r),t().createElement("span",null,c)),t().createElement("div",{className:"game-action"},$.isPC||$.isTablet?t().createElement(t().Fragment,null,t().createElement("p",{onClick:()=>p(!0)},Vt||(Vt=t().createElement("span",{className:"attr-action-icon"},t().createElement(Qe,{type:"share"}))),Ht||(Ht=t().createElement("span",{className:"attr-action-text"},"share")))):null,t().createElement("p",{onClick:()=>(e=>{const t=T(n);e&&t.hated&&(y(!1),t.hated=!1,oe("Unhated",{},n),N(_-1<0?0:_-1)),b(e?v+1:v-1<0?0:v-1),f(e),t.like=e,A(n,t),oe(e?"Like":"Unlike",{},n)})(!h)},t().createElement("span",{className:"attr-action-icon"},t().createElement(Qe,{type:h?"like-solid":"like",className:Ie()(h?"active":"")})),t().createElement("span",{className:"attr-action-text"},R(v))),t().createElement("p",{onClick:()=>(e=>{const t=T(n);e&&t.like&&(f(!1),t.like=!1,oe("Unlike",{},n),b(v-1<0?0:v-1)),N(e?_+1:_-1<0?0:_-1),y(e),t.hated=e,A(n,t),oe(e?"Hated":"Unhated",{},n)})(!E)},t().createElement("span",{className:"attr-action-icon"},t().createElement(Qe,{type:E?"hated-solid":"hated",className:Ie()(E?"active":"")})),t().createElement("span",{className:"attr-action-text"},R(_))),t().createElement("p",{onClick:()=>V(!I)},t().createElement("span",{className:"attr-action-icon","data-live":l.toString()},t().createElement(Qe,{type:"comments",className:Ie()(I?"active":"")})),t().createElement("span",{className:"attr-action-text"},R(k))),t().createElement("div",{className:"attr-big-icon"},t().createElement(Qe,{type:"install",className:"install-icon","data-installing":D.toString(),id:"install-dom",onClick:()=>{"function"==typeof qt&&(F(!0),oe("install_before",{},n),qt((()=>{oe("install_accepted",{},n),F(!1)}),(()=>{oe("install_dismissed",{},n),F(!1)})))}}),M?t().createElement(Qe,{type:"video",onClick:()=>d(!u),className:Ie()("video-icon",u?"active":"")}):null,$.isAndroid||$.isPhone?null:t().createElement(Qe,{type:s?"collapse":"full",className:"game-full",onClick:()=>{m()}})))))};var Wt,Ut,Bt;let Jt;function Yt(a){const{game_id:n,system:r,onWalkThroughVideoStatus:l}=a,[s,o]=(0,e.useState)(null),[c,i]=(0,e.useState)([]),m=(0,e.useRef)(null),[u,d]=(0,e.useState)(null);(0,e.useEffect)((()=>{var e;(e=n,ee.get(`/game/${e}/walkthrough_videos`)).then((e=>{const{data:t}=e;g(t[0]),i(t),d("safari"!==S())}))}),[]),(r.isAndroid||r.isPhone||r.isTablet)&&("function"==typeof Jt&&window.removeEventListener("orientationchange",Jt),Jt=function(){m.current&&(m.current.style.top=70)},window.addEventListener("orientationchange",Jt));const g=e=>{o(e),oe("VideoPlay",{video_id:e.video_id},n)},p=()=>t().createElement("ul",null,c.map((e=>t().createElement("li",{key:e.video_id,onMouseLeave:e=>(e=>{e.currentTarget.querySelector("video").pause()})(e),onMouseEnter:e=>(e=>{const t=e.currentTarget.querySelector("video");t&&(t.currentTime=0,t.play())})(e),onClick:()=>g(e),"data-active":s.video_id===e.video_id},t().createElement("div",{className:"video-images",style:{backgroundImage:`url(${C(e.thumbnail,180,u)})`}},t().createElement("video",{className:"video-preview",loop:!0,muted:!0,preload:"none"},t().createElement("source",{src:D(e.video_id),type:"video/mp4"})),t().createElement("div",{className:"recommend-video-duration"},function(e){if(!e||e<=0)return"00:00";const t=Math.floor(e/60/60);e-=60*t*60;const a=Math.floor(e/60),n=e-60*a,r=a<10?`0${a}`:`${a}`,l=n<10?`0${n}`:`${n}`;return 0===t?`${r}:${l}`:`${t<10?`0${t}`:`${t}`}:${r}:${l}`}(e.duration))),t().createElement("p",{className:"recommend-list-title"},"Let's Play ",e.game_name)))));return t().createElement("section",{className:"walk-through-video-area"},t().createElement("div",{className:"video-main"},s&&0!==c.length&&null!==u?null:Bt||(Bt=t().createElement(lt,{disabledBG:!0})),s&&null!==u?t().createElement("div",{className:"video-left"},t().createElement("p",{className:"video-playback-icon",style:{backgroundImage:`url(${C(s.thumbnail+".webp","oversized",u)})`}}),t().createElement("div",{className:"video-playback-area"},t().createElement(ct,{url:F(s.video_id),system:r}))):null,r.isPC&&s&&0!==c.length&&null!==u?t().createElement("div",{className:"video-right"},t().createElement("header",null,Wt||(Wt=t().createElement("h4",null,"More Video")),t().createElement(Qe,{type:"delete",className:"close-video-area",onClick:()=>l(!1)})),t().createElement("div",{className:"video-list-area"},p())):null),(()=>{if(r.isPC)return null;return t().createElement("div",{className:"game-full-back",onClick:()=>{l(!1)},ref:m},Ut||(Ut=t().createElement(Qe,{type:"left",className:"game-full-back-icon"})))})())}var Kt,Qt;function Xt(a){const{usableGame:n,fullState:r,base_icon:l,noSupportText:s,onPlayGameForMobile:o,setWalkThroughVideoOpenStatus:c}=a,[i,m]=(0,e.useState)(null),[u,d]=(0,e.useState)(null);if((0,e.useEffect)((()=>{m(S()),d(w())}),[]),!i||!u)return null;if(n)return null;let g=C(l,"oversized","safari"!==i);return u.isAndroid||u.isPhone?r?null:t().createElement("div",{className:"game-play-area"},g?t().createElement("div",{className:"game-play-bg",style:{backgroundImage:`url(${g})`}}):null,t().createElement("div",{className:"game-play-action"},s?t().createElement("div",{className:"game-game-notsupport"},s):null,t().createElement("span",{className:Ie()("game-play play-now",s?"play-disable":"play"),onClick:()=>{!s&&o()}},Kt||(Kt=t().createElement("span",{className:"game-cursor"}))),Qt||(Qt=t().createElement("p",null,"Play now")))):s?t().createElement("div",{className:"game-game-notsupport"},s):null}const Zt=t().memo(Xt,((e,t)=>Object.keys(e).filter((e=>"onPlayGameForMobile"!==e)).every((a=>e[a]===t[a]))));var ea,ta,aa,na,ra,la;let sa,oa,ca=!1,ia=!1;function ma(a){const{seoLan:n,seoGame:r={},seoSimilarGameList:l=[],seoEnvMap:s}=a.staticContext,[o,c]=(0,e.useState)(r),[i,m]=(0,e.useState)(!1),[u,g]=(0,e.useState)(!1),[p,h]=(0,e.useState)(!1),[f,E]=(0,e.useState)(!1),[v,b]=(0,e.useState)(!1),[N,P]=(0,e.useState)(!1),[O,C]=(0,e.useState)(null),[I,T]=(0,e.useState)(!1),[A,L]=(0,e.useState)({isPC:!1,isAndroid:!1,isPhone:!1,isTablet:!1}),M=(0,e.useRef)(null),z=(0,e.useRef)(null),R=(0,e.useRef)(null),D=(0,e.useRef)(null),[F,V]=(0,e.useState)(null),[W,U]=(0,e.useState)(l),[B,J]=(0,e.useState)(W),[Y,K]=(0,e.useState)(null),[Q,X]=(0,e.useState)(!1),[Z,ee]=(0,e.useState)(!1),[te,ae]=(0,e.useState)(0),[ne,re]=(0,e.useState)(!1),[le,se]=(0,e.useState)(null),{game_id:ie="",game_path:me="",game_link:ue="",game_name:de="",description:ge="",game_play:pe="",base_icon:he="",developer:fe="",categorys:Ee=[],game_type:ye=1,device_support:ve=["PC","IOS","Android","HorizontalScreen","VerticalScreen"],browser_support:we=["chrome","safari","firefox","edge"],players:be=0,loading_video:Se="",loading_video_thumbnail:_e=""}=o;(0,e.useEffect)((()=>{const e=setInterval((()=>{const t=R.current.offsetWidth;t&&(clearInterval(e),V(t))}),50);(e=>{const t=window.sessionStorage.getItem(d);return window.sessionStorage.removeItem(d),e===t})(me)&&(X(!0),ee(!0)),window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((function(){window.googletag.pubads().setTargeting("game_name",de)}))}),[]),(0,e.useEffect)((()=>{F&&((e=>{const t=w(),a=t.isPhone||t.isAndroid;!a&&x(e,1788)&&(K(W.slice(0,2)),J(W.slice(2,73))),!a&&x(e,1588)&&(K(W.slice(0,2)),J(W.slice(2,79))),!a&&x(e,1388)&&(K(W.slice(0,2)),J(W.slice(2,75))),!a&&x(e,1288)&&(K(W.slice(0,2)),J(W.slice(2,77))),!a&&x(e,1188)&&(K(W.slice(0,2)),J(W.slice(2,79))),!a&&x(e,988)&&J(W.slice(0,82)),!a&&x(e,788)&&J(W.slice(0,83)),!a&&x(e,688)&&J(W.slice(0,81)),a&&J(W.slice(0,74))})(F),ca||(ce("heartbeat",{}),setInterval((()=>{document.hidden||ce("heartbeat",{})}),1e4),oe("PageView",{form:navigator.standalone||window.matchMedia("(display-mode: standalone)").matches?"app":"web"},ie),(e=>{const t=[];window.addEventListener("scroll",(function(){let a=Math.ceil(document.body.offsetHeight/window.innerHeight),n=Math.ceil(window.scrollY/window.innerHeight)+1;1!==n&&-1===t.indexOf(n)&&window.scrollY<=document.body.offsetHeight&&(t.push(n),e(n,a))}))})(((e,t)=>{oe("PageSlip",{screen_current:e.toString(),screen_totals:t.toString()})})),q(".game-area >.game-card",(e=>{oe("GameImpression",{impressionGameList:JSON.stringify(e),campaign:"game"})})),ca=!0))}),[F,W]),(0,e.useEffect)((()=>{const e=w();L(e),y(),$(),k().then((e=>{se(e)})),window.addEventListener("resize",(function(){y();const e=R.current.offsetWidth;F!==e&&V(e)})),(e.isPC||e.isTablet)&&(oe("IframeLoading",{},ie),T(!0),ae(0),E(!0)),(e.isAndroid||e.isPhone||e.isTablet)&&(g(_()),"function"==typeof sa&&window.removeEventListener("orientationchange",sa),sa=function(){const e=_();g(e),D.current&&(D.current.style.top=70)},window.addEventListener("orientationchange",sa)),(e=>{let t="";e.isPC&&(t="pc"),(e.isPhone||e.isAndroid)&&(t="mobile"),e.isTablet&&(t="pc"),document.querySelector("body").setAttribute("system",t)})(e),window.addEventListener("message",(function(e){"sdk-preload"===e.data&&ae(85),"sdk-loaded"===e.data&&ke(!0)}),!1)}),[]),(0,e.useEffect)((()=>{const e=w(),t=S();let a="";e.isPC&&-1!==ve.indexOf("PC")&&-1===ve.indexOf("HorizontalScreen")&&-1!==ve.indexOf("VerticalScreen")?h(!0):h(!1),e.isAndroid&&-1===ve.indexOf("Android")?a="Android not supported":e.isPhone&&-1===ve.indexOf("IOS")?a="IOS not supported":e.isPC&&-1===ve.indexOf("PC")?a="PC not supported":"-"!==t&&-1===we.indexOf(t)&&(a=`${t} not supported`),C(a),a&&(T(!1),E(!1))}),[u,o]);const Ne=()=>{(A.isAndroid||A.isPhone)&&ue&&E(!i),window.document.exitFullscreen&&(i?window.document.exitFullscreen():document.querySelector("html").requestFullscreen());const e=document.querySelector("html");i?(e.removeAttribute("full-game"),T(!1)):setTimeout((()=>{e.setAttribute("full-game","")})),m(!i)},ke=e=>{ia||(oe("IframeFinished",{finished_source:e?"game":"page"},ie),ia=!0,setTimeout((()=>{G(ie,de,(e=>{oe("UserPlay",{user_play_num:e.toString()},ie)}))}),1e4)),ae(100),setTimeout((()=>{T(!1)}))},Pe=e=>{X(e),ee(!1)},{siteId:Oe,zoneMap:Ce}=s;let $e="";return $e=A.isPC?Ce.pc_game:A.isTablet?Ce.pad_game:Ce.mobile_game,t().createElement("div",{className:"game-warp",ref:R},aa||(aa=t().createElement("div",{className:"bg-left"})),na||(na=t().createElement("div",{className:"bg-right"})),ra||(ra=t().createElement("div",{className:"bg-bottom"})),la||(la=t().createElement(st,null)),t().createElement("section",{className:"game-area"},t().createElement(Be,{language:n,useSPA:!0}),t().createElement(Mt,{envMap:s,gameId:ie,system:A,width:F,fullState:i,adsTagLoadedFn:()=>b(!0)}),t().createElement("div",{className:Ie()("game-main",{"full-game":i},{"mobile-iphone":A.isPhone},{"mobile-horizontal":u},{"pc-vertical":p}),ref:M},t().createElement("div",{className:"game-core"},N?t().createElement(Ct,{game_id:ie,game_name:de,onShareStatus:e=>P(e)}):null,v&&f&&ue&&!Z&&le?t().createElement("iframe",{"data-loading":I,onLoad:()=>ke(!1),id:"game-core-iframe",ref:z,src:`${ue}${-1===ue.indexOf("?")?"?":"&"}uid=${le}&sid=${H()}&channel-id=${j()}&site-id=${Oe}&zone-id=${$e}`,allowFullScreen:!0}):null,A.isPC?null:i&&(!u&&-1===ve.indexOf("VerticalScreen")||u&&-1===ve.indexOf("HorizontalScreen"))?ea||(ea=t().createElement("div",{className:"rotate-remind"},t().createElement(Qe,{type:"rotate",className:"rotate-flag"}),"Please rotate the device")):null,t().createElement(Zt,{usableGame:f,fullState:i,base_icon:he,noSupportText:O,setWalkThroughVideoOpenStatus:X,onPlayGameForMobile:()=>(oe("IframeLoading",{},ie),y(),E(!0),T(!0),ae(0),Ne(),oa=function(e){e.preventDefault()},void M.current.addEventListener("touchmove",oa,{passive:!1}))}),t().createElement(dt,{loading:I,progressValue:te,game_id:ie,setWalkThroughVideoOpenStatus:X,walkThroughButtonStatus:ne,base_icon:he,loading_video_thumbnail:_e,players:be,loading_video:Se}),Q?t().createElement(Yt,{game_id:ie,system:A,onWalkThroughVideoStatus:e=>Pe(e)}):null),t().createElement(Gt,{game_id:ie,game_name:de,game_type:ye,developer:fe,base_icon:he,fullState:i,onFullGame:()=>Ne(),walkThroughVideoOpenStatus:Q,setWalkThroughButtonStatus:re,onWalkThroughVideoStatus:e=>Pe(e),onShareStatus:e=>P(e),mobileHorizontal:u}),(()=>{if(!A.isAndroid&&!A.isPhone||!i)return null;return t().createElement("div",{ref:D,className:"game-full-back",onClick:()=>{oa&&M.current.removeEventListener("touchmove",oa),Ne()},onTouchMove:e=>(e=>{e.preventDefault();let t=e.touches[0].pageY;t<0&&(t=0);const a=M.current.offsetHeight-34;t>a&&(t=a),D.current.style.top=t+"px"})(e)},ta||(ta=t().createElement(Qe,{type:"left",className:"game-full-back-icon"})))})()),B&&B.map((e=>t().createElement(Le,{useSPA:!0,language:n,game:e,key:e.id,campaign:"game",system:A}))),Y&&Y.map(((e,a)=>t().createElement(Le,{useSPA:!0,language:n,game:e,size:"large",key:e.id,index:a,campaign:"game",system:A,useVideo:!0})))),t().createElement(tt,{language:n,game_name:de,categorys:Ee,description:ge,game_play:pe}),t().createElement(xe,{language:n,envMap:s}))}const ua=e=>(e=>[{path:[`/${e}/:gamePath`,"/:gamePath"],Component:ma,exact:!0}])(e).map(((e,a)=>{const{path:n,exact:r,Component:s}=e;return t().createElement(l.Route,{key:a,path:n,exact:r,render:e=>t().createElement(s,{staticContext:window.APP_PROPS})})}));let da=null;var ga;da=document.querySelector("#root"),da&&r().hydrate(t().createElement(l.BrowserRouter,null,(ga=window.APP_PROPS.seoLan,t().createElement(l.Switch,null,ua(ga)))),document.querySelector("#root"))})()})();